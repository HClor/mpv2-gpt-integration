-- ===============================================
-- Миграция #4: Добавление статуса "unlisted"
-- Дата: 2025-11-14
-- Описание: Добавляет статус "unlisted" (по ссылке, не видим в списках)
-- ===============================================

-- Изменяем ENUM для publication_status, добавляем unlisted
ALTER TABLE `modx_test_tests`
MODIFY COLUMN `publication_status` ENUM('draft', 'private', 'unlisted', 'public') NOT NULL DEFAULT 'draft'
COMMENT 'draft=черновик, private=приватный, unlisted=по ссылке, public=публичный';

-- ===============================================
-- Справка по статусам:
--
-- draft    - Черновик: видят только LMS Admins и создатель
-- private  - Приватный: видят LMS Admins, создатель и приглашенные
-- unlisted - По ссылке: не виден в списках, но доступен по прямой ссылке
-- public   - Публичный: виден всем в списках
-- ===============================================
