<?php
/**
 * Test System Configuration
 *
 * Централизованная конфигурация для системы тестирования
 * Все ID страниц и группы пользователей вынесены сюда
 *
 * @package TestSystem
 * @version 2.0
 * @created 2025-11-15
 */

return [
    /**
     * ID страниц (MODX Resources)
     *
     * ВАЖНО: После деплоя на production необходимо обновить эти значения
     * в соответствии с реальными ID ресурсов на сервере
     */
    'pages' => [
        // Аутентификация
        'auth' => 24,              // Страница входа/регистрации
        'forgot_password' => 0,    // Страница восстановления пароля (опционально)
        'reset_password' => 0,     // Страница сброса пароля (опционально)

        // Профиль и статистика
        'profile' => 28,           // Профиль пользователя
        'leaderboard' => 34,       // Рейтинг пользователей

        // Управление тестами
        'tests_root' => 35,        // Корневая папка "Тесты"
        'add_test' => 36,          // Страница создания теста
        'import_csv' => 29,        // Страница импорта CSV
        'my_tests' => 0,           // Мои тесты (опционально)

        // Области знаний
        'knowledge_area' => 145,   // Страница "Область знаний" (запуск теста)
        'manage_areas' => 125,     // Страница "Мои области знаний"

        // Административные
        'manage_categories' => 38, // Управление категориями
        'manage_users' => 43,      // Управление пользователями

        // Прочее
        'site_start' => 1,         // Главная страница (fallback)
    ],

    /**
     * Группы пользователей (User Groups)
     *
     * Названия групп в MODX Revolution
     */
    'groups' => [
        'admins' => 'LMS Admins',      // Администраторы системы
        'experts' => 'LMS Experts',    // Эксперты (создатели тестов)
        'students' => 'LMS Students',  // Студенты (обычные пользователи)
    ],

    /**
     * Настройки системы тестирования
     */
    'test_settings' => [
        'default_questions_count' => 20,        // Количество вопросов по умолчанию
        'default_time_limit' => 0,              // Ограничение времени (0 = без ограничений)
        'default_pass_score' => 75,             // Проходной балл по умолчанию (%)
        'max_file_size_mb' => 10,               // Макс. размер файла импорта (MB)
        'max_image_size_mb' => 5,               // Макс. размер изображения (MB)
        'image_max_dimension' => 600,           // Макс. размер стороны изображения (px)
    ],

    /**
     * Настройки безопасности
     */
    'security' => [
        'csrf_token_lifetime' => 7200,          // Время жизни CSRF токена (сек)
        'reset_token_lifetime' => 3600,         // Время жизни токена сброса пароля (сек)
        'min_password_length' => 6,             // Минимальная длина пароля
        'require_email_verification' => true,   // Требовать подтверждение email
    ],

    /**
     * Настройки кеширования
     */
    'cache' => [
        'categories_ttl' => 3600,               // Время кеша категорий (сек)
        'leaderboard_ttl' => 300,               // Время кеша рейтинга (сек)
        'user_stats_ttl' => 600,                // Время кеша статистики (сек)
    ],
];
